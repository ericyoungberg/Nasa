var Nasa={Engine:[],__modules__:[],__config__:{},__flight__:{}};Nasa.Engine=function(a){return a.dbug=function(a){Nasa.__config__.debug&&("boolean"==typeof a?a?(console.log("DEBUG | Nasa: Beginning debug session for this Houston instance..."),console.log("DEBUG | Nasa: -------------------------------------------------------"),console.log("DEBUG | Nasa: CONFIG = "+JSON.stringify(Nasa.__config__)),console.log("DEBUG |")):(console.log("DEBUG |"),console.log("DEBUG | Nasa: -------------------------------------------------------"),console.log("DEBUG | Nasa: Ending debug session./")):console.log("DEBUG | Nasa: "+a))},a}(Nasa.Engine),Nasa.Engine=function(a){return a.location=function(){var a=window.location.pathname;return Nasa.__config__.root&&(a=a.replace(Nasa.__config__.root,"")),a},a}(Nasa.Engine),Nasa.Engine=function(a){function b(a){Nasa.Engine.dbug("Executed the route '"+a+"'\n"),Nasa.__flight__.schedule[a].forEach(function(a){Nasa.__modules__[a]()})}function c(){if("**"===e[0]){Nasa.Engine.dbug("Found dynamic beginning on "+e.join("/"));for(var a=f.length,b=0;b<f.length;b++)if(f[b]===e[1]||"*"===e[1]){b=0===b?1:0,f.splice(0,b),e.splice(0,1);break}if(a===f.length)return!1}return!0}function d(){if("**"===e[e.length-1]){Nasa.Engine.dbug("Found dynamic ending on "+e.join("/"));for(var a=f.length,b=f.length-1;b>=0;b--)if(f[b]===e[e.length-2]||"*"===e[e.length-2]){f.splice(b,f.length-b),e.splice(e.length-1,1);break}if(a===f.length)return!1}return!0}var e=[],f=[];return a.check=function(a){return Nasa.Engine.location()===a?(b(a),!0):!1},a.checkDynamic=function(a){if(e=a.split("/"),f=Nasa.Engine.location().split("/"),e.length>f.length)return!1;if(!c()||!d())return!1;for(var g=0;g<e.length;g++)if("*"!==e[g]){var h;if(-1===(h=e[g].indexOf("*"))){if(e[g]!==f[g])return!1}else if(0===h){var i=e[g].substr(1,e[g].length);if(f[g].indexOf(i)!==f[g].length-1-(i.length-1))return!1}else if(h===e[g].length-1){var j=e[g].substr(0,h);if(f[g].substr(0,j.length)!==j)return!1}}return b(a),!0},a}(Nasa.Engine),Nasa=function(a){function b(a){return"/"==a.charAt(a.length-1)?a.substr(0,a.length-2):a}return a.config=function(a){return a.root&&(a.root=b(a.root)),a.cascade&&"boolean"!=typeof a.cascade?console.error("Nasa: config(): Cascade must be a boolean value."):a.debug&&"boolean"!=typeof a.debug?console.error("Nasa: config(): Debug must be a boolean value."):void(Nasa.__config__=a)},a}(Nasa),Nasa=function(a){return a.houston=function(a,b){Nasa.Engine.dbug(!0),"undefined"==typeof b&&(b="undefined"==typeof Nasa.__config__.cascade?!0:Nasa.__config__.cascade),Nasa.__flight__.schedule=a,Object.keys(a).every(function(a){if(-1!==a.indexOf("*")){if(Nasa.Engine.checkDynamic(a))return b}else if(Nasa.Engine.check(a))return b;return!0}),Nasa.Engine.dbug(!1)},a}(Nasa),Nasa=function(a){return a.land=function(a){if("string"==typeof a){if(Nasa.__modules__[a])return Nasa.__modules__[a]();console.error("Nasa.land("+a+"): "+a+" doesn't exist.")}else console.error("Nasa.land("+a+"): Module name must be a string.")},a}(Nasa),Nasa=function(a){return a.launch=function(a,b){"string"==typeof a?Nasa.__modules__[a]?console.error("Nasa.launch("+a+"): "+a+" already exists."):Nasa.__modules__[a]=b:console.error("Nasa.launch("+a+"): Module name must be a string.")},a}(Nasa);